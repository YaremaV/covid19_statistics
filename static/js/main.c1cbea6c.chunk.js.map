{"version":3,"sources":["component/Container/container.module.css","component/Container/Container.js","component/Searchbar/Searchbar.js","API/API.js","Image/logo.png","component/Header/Header.js","component/Modal/Modal.js","component/Statistics/Statistics.js","App.js","index.js","component/Searchbar/Searchbar.module.css","component/Header/header.module.css"],"names":["module","exports","Container","children","className","styles","container","Searchbar","onSubmit","useState","name","setName","s","SearchForm","evt","preventDefault","trim","toast","error","position","theme","SearchFormInput","type","autoComplete","autoFocus","placeholder","value","onChange","EventTarget","currentTarget","toLowerCase","propType","PropTypes","string","func","BASE_URL","fetchWithErrorHandling","a","url","fetch","response","ok","json","Promise","reject","Error","fetchDetails","country","Header","countryName","setCountryName","useEffect","API","then","res","console","log","wrapper","src","logo","alt","title","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","target","window","addEventListener","this","removeEventListener","createPortal","onClick","Component","Statistics","setCountry","showModal","setShowModal","detail","setDetail","Countries","toggleModal","getDetailInfo","innerText","slice","map","idx","Country","TotalConfirmed","ID","Confirmed","Deaths","Recovered","protoType","App","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c1cbea6c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container_container__20tPm\"};","import styles from './container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n","import React, { useState } from 'react';\n\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [name, setName] = useState('');\n\n  const handleNameChange = EventTarget => {\n    setName(EventTarget.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n\n    if (name.trim() === '') {\n      toast.error('Please Enter countries!', {\n        position: 'top-left',\n        theme: 'colored',\n      });\n      return;\n    }\n    onSubmit(name);\n    setName('');\n  };\n\n  return (\n    <form className={s.SearchForm} onSubmit={handleSubmit}>\n      <input\n        className={s.SearchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search...\"\n        value={name}\n        onChange={handleNameChange}\n      />\n    </form>\n  );\n}\n\nSearchbar.propType = {\n  value: PropTypes.string,\n  onSubmit: PropTypes.func,\n  onChange: PropTypes.func,\n};\n","const BASE_URL = 'https://api.covid19api.com/';\n\nasync function fetchWithErrorHandling(url = '') {\n  const response = await fetch(url);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchSearch() {\n  return fetchWithErrorHandling(`${BASE_URL}summary`);\n}\n\nexport function fetchDetails(country) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}live/country/${country}/status/confirmed`,\n  );\n\n  // curl --location --request GET 'https://api.covid19api.com/live/country/south-africa/status/confirmed'\n  // (\"https://api.covid19api.com/live/country/south-africa/status/confirmed/date/2020-03-21T13:13:30Z\");\n  // curl --location --request GET 'https://api.covid19api.com/total/country/south-africa/status/confirmed'\n}\n","export default __webpack_public_path__ + \"static/media/logo.588ddb26.png\";","import { useEffect, useState } from 'react';\nimport Search from '../Searchbar/Searchbar';\nimport * as API from '../../API/API';\nimport logo from '../../Image/logo.png';\nimport s from './header.module.css';\n\nexport default function Header() {\n  const [countryName, setCountryName] = useState('');\n  const [searchCountry, setSearchCountry] = useState([]);\n\n  useEffect(() => {\n    if (countryName === '') {\n      return;\n    }\n    API.fetchDetails(countryName).then(res => console.log(res));\n  }, [countryName]);\n\n  const handleFormSubmit = name => {\n    setCountryName(name);\n  };\n\n  return (\n    <>\n      <header>\n        <div className={s.wrapper}>\n          <img src={logo} alt=\"logo\" />\n          <h1 className={s.title}>Statistic</h1>\n        </div>\n        <Search onSubmit={handleFormSubmit} />\n      </header>\n    </>\n  );\n}\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport './modal.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.protoType = {\n  onClick: PropTypes.func,\n};\n","import { useState, useEffect } from 'react';\nimport * as API from '../../API/API';\nimport Modal from '../Modal/Modal';\n\nexport default function Statistics() {\n  const [country, setCountry] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [detail, setDetail] = useState([]);\n\n  useEffect(() => {\n    API.fetchSearch().then(res => setCountry(res.Countries));\n  }, []);\n\n  const toggleModal = () => {\n    setShowModal(showModal => !showModal);\n  };\n\n  const getDetailInfo = e => {\n    toggleModal();\n    API.fetchDetails(e.target.innerText).then(res =>\n      setDetail(res.slice(-1)[0]),\n    );\n  };\n\n  return (\n    <>\n      <table>\n        <thead>\n          <tr>\n            <th>â„–</th>\n            <th>Country</th>\n            <th>Total Confirmed</th>\n          </tr>\n        </thead>\n        <tbody>\n          {country.map((country, idx) => (\n            <tr key={country.ID}>\n              <td>{idx}</td>\n              <td onClick={getDetailInfo}>{country.Country}</td>\n              <td>{country.TotalConfirmed}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          {console.log(detail.Country)}\n          <h1>{detail.Country}</h1>\n          <ul>\n            <li>\n              <p>Total Confirmed: {detail.Confirmed}</p>\n            </li>\n            <li>\n              <p>Total Deaths: {detail.Deaths}</p>\n            </li>\n            <li>\n              <p>Total Recovered: {detail.Recovered}</p>\n            </li>\n          </ul>\n          <button type=\"button\" onClick={toggleModal}>\n            Ok\n          </button>\n        </Modal>\n      )}\n    </>\n  );\n}\n","import Container from './component/Container/Container';\nimport Header from './component/Header/Header';\nimport Statistics from './component/Statistics/Statistics';\nimport './App.css';\nimport { ToastContainer } from 'react-toastify';\n\nexport default function App() {\n  return (\n    <Container>\n      <Header />\n      <Statistics />\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n      />\n    </Container>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchFormInput\":\"Searchbar_SearchFormInput__2QUT5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"header_wrapper__26Jmq\",\"title\":\"header_title__yz4uM\"};"],"sourceRoot":""}